# Основы CLI Builder

CLI Builder - это фреймворк для создания интерфейсов командной строки с элегантной архитектурой, основанной на объектно-ориентированном подходе и системе событий.

## Основные компоненты

В основе архитектуры CLI Builder лежат следующие компоненты:

1. **CliBase** - базовый абстрактный класс для всех компонентов.
2. **CliCore** - главный класс CLI-приложения, точка входа.
3. **CliModule** - модуль-команда, который может быть выполнен.
4. **CliLibrary** - модуль-библиотека, предоставляющий общую функциональность.

## Декораторы

Для упрощения создания компонентов CLI Builder предоставляет три основных декоратора:

1. **@Cli** - для создания главного приложения (экземпляра `CliCore`).
2. **@Module** - для создания модулей-команд (экземпляров `CliModule`).
3. **@Library** - для создания модулей-библиотек (экземпляров `CliLibrary`).

## Простой пример

Вот простой пример использования CLI Builder:

```python
from cli_builder.decorators import Cli, Module, Library

# Основное приложение
@Cli("мое-приложение", description="Пример приложения", version="1.0.0")
class МоеПриложение:
    def __init__(self):
        # Добавляем дочерние компоненты
        self.add_child(Библиотека)
        self.add_child(Команда)
    
    def run(self):
        # Получаем и выполняем команду
        команда = self.get_child("команда")
        return команда.run()

# Модуль-библиотека для общей функциональности
@Library("библиотека")
class Библиотека:
    def получить_данные(self):
        return "Важные данные"

# Модуль-команда для выполнения
@Module("команда", parent_name="мое-приложение")
class Команда:
    def run(self):
        # Получаем библиотеку через родительский компонент
        библиотека = self.parent.get_child("библиотека")
        данные = библиотека.получить_данные()
        return f"Обработано: {данные}"

# Запуск приложения
if __name__ == "__main__":
    результат = МоеПриложение.run()
    print(результат)  # Вывод: Обработано: Важные данные
```

## Система событий

Все компоненты CLI Builder поддерживают систему событий, позволяя компонентам взаимодействовать друг с другом через события:

```python
@Cli("приложение")
class Приложение:
    def __init__(self):
        # Слушаем событие 'команда-выполнена'
        self.on("команда-выполнена", self.при_выполнении_команды)
        self.add_child(Команда)
    
    def при_выполнении_команды(self, источник, команда):
        print(f"Выполнена команда: {команда} из {источник.name}")

@Module("команда", parent_name="приложение")
class Команда:
    def run(self, команда):
        # Это событие будет передано вверх к родителю
        self.emit("команда-выполнена", self, команда)
        return f"Выполнено: {команда}"
```

## Далее

Для более подробной информации об API и использовании CLI Builder, ознакомьтесь со следующими разделами:

- [Справочник API](../api/reference.md)
- [Туториалы](../tutorials/index.md) 